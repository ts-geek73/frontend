"use strict";(()=>{var e={};e.id=612,e.ids=[612],e.modules={2150:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{config:()=>h,default:()=>u,getServerSideProps:()=>x,getStaticPaths:()=>g,getStaticProps:()=>p,reportWebVitals:()=>m,routeModule:()=>y,unstable_getServerProps:()=>v,unstable_getServerSideProps:()=>P,unstable_getStaticParams:()=>j,unstable_getStaticPaths:()=>S,unstable_getStaticProps:()=>f});var s=r(3865),l=r(9455),o=r(671),i=r(1569),n=r(4881),c=r(5572),d=e([c]);c=(d.then?(await d)():d)[0];let u=(0,o.M)(c,"default"),p=(0,o.M)(c,"getStaticProps"),g=(0,o.M)(c,"getStaticPaths"),x=(0,o.M)(c,"getServerSideProps"),h=(0,o.M)(c,"config"),m=(0,o.M)(c,"reportWebVitals"),f=(0,o.M)(c,"unstable_getStaticProps"),S=(0,o.M)(c,"unstable_getStaticPaths"),j=(0,o.M)(c,"unstable_getStaticParams"),v=(0,o.M)(c,"unstable_getServerProps"),P=(0,o.M)(c,"unstable_getServerSideProps"),y=new s.PagesRouteModule({definition:{kind:l.A.PAGES,page:"/search",pathname:"/search",bundlePath:"",filename:""},components:{App:n.default,Document:i.default},userland:c});a()}catch(e){a(e)}})},5572:(e,t,r)=>{r.a(e,async(e,a)=>{try{r.r(t),r.d(t,{default:()=>g});var s=r(8732),l=r(6424),o=r(2015),i=r(8851),n=r(9185),c=r(9595),d=r(6131),u=r(1428),p=e([n,u]);[n,u]=p.then?(await p)():p;let g=()=>{let[e,t]=(0,o.useState)(!0),[r,a]=(0,o.useState)(1),[p]=(0,o.useState)(12),[g,x]=(0,o.useState)("All"),[h,m]=(0,o.useState)([]),[f,S]=(0,o.useState)([]),j=(0,l.useSearchParams)(),v=j?.get("query")||"";(0,o.useEffect)(()=>{let e=async()=>{t(!0);try{let e=await u.default.get("http://localhost:8000/movie");console.log(e.data),m(e.data)}catch(e){console.error("Error fetching movies:",e)}finally{t(!1)}},r=async()=>{try{let e=await u.default.get("http://localhost:8000/category");S(e.data)}catch(e){console.error("Error fetching categories:",e)}};e(),r()},[]);let P=r*p,y=h.filter(e=>e.title.toLowerCase().includes(v.toLowerCase())||e.director.toLowerCase().includes(v.toLowerCase())),b="All"===g?y:y.filter(e=>e.categories.some(e=>{let t=f.find(t=>t.category_id===e);return t?.title.toLowerCase().includes(g.toLowerCase())})),w=b.length,M=b.slice(P-p,P);return(0,o.useEffect)(()=>{let e=setTimeout(()=>{t(!1)},1e3);return()=>clearTimeout(e)},[v]),(0,s.jsx)("div",{children:e?(0,s.jsx)(i.A,{}):(0,s.jsx)(s.Fragment,{children:v&&y.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(d.A,{}),(0,s.jsxs)("div",{className:"flex justify-around",children:[(0,s.jsxs)("h1",{className:"text-2xl text-center p-5 sm:text-4xl font-bold",children:["Search: ",v]}),(0,s.jsxs)("select",{value:g,onChange:e=>{x(e.target.value),a(1)},className:"mb-5 p-2",children:[(0,s.jsx)("option",{value:"All",children:"All Categories"})," ",f.map((e,t)=>(0,s.jsx)("option",{value:e.title,children:e.title},t))]})]}),b.length>0?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid xl:grid-cols-3 justify-center lg:grid-cols-2 grid-cols-1 gap-8 p-6 sm:px-20 md:px-52 lg:px-32 xl:px-60",children:M.map((e,t)=>(0,s.jsx)(n.A,{data:e},t))}),(0,s.jsx)(c.A,{length:w,currentPage:r,setCurrentPage:a})]}):(0,s.jsx)("h2",{className:"text-center font-semibold text-xl",children:"No movies found"})]}):v?(0,s.jsxs)("h1",{children:['No data found for "',v,'"']}):(0,s.jsx)("h1",{children:"No search term entered."})})})};a()}catch(e){a(e)}})},361:e=>{e.exports=require("next/dist/compiled/next-server/pages.runtime.prod.js")},9121:e=>{e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9294:e=>{e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},3033:e=>{e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},2015:e=>{e.exports=require("react")},2326:e=>{e.exports=require("react-dom")},8732:e=>{e.exports=require("react/jsx-runtime")},3873:e=>{e.exports=require("path")},1428:e=>{e.exports=import("axios")},4391:e=>{e.exports=import("react-toastify")}};var t=require("../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[264,65,965,843],()=>r(2150));module.exports=a})();